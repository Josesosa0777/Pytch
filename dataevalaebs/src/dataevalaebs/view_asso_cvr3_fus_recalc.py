import datavis
import interface
from aebs.sdf import asso_cvr3_fus_recalc

class cParameter(interface.iParameter):
  def __init__(self, i, j):
    self.i = i
    self.j = j
    self.genKeys()
# instantiation of module parameters
OHY_00_VID_0 = cParameter(0,0)
OHY_00_VID_1 = cParameter(0,1)
OHY_00_VID_2 = cParameter(0,2)
OHY_00_VID_3 = cParameter(0,3)
OHY_00_VID_4 = cParameter(0,4)
OHY_00_VID_5 = cParameter(0,5)
OHY_00_VID_6 = cParameter(0,6)
OHY_00_VID_7 = cParameter(0,7)
OHY_00_VID_8 = cParameter(0,8)
OHY_00_VID_9 = cParameter(0,9)
OHY_01_VID_0 = cParameter(1,0)
OHY_01_VID_1 = cParameter(1,1)
OHY_01_VID_2 = cParameter(1,2)
OHY_01_VID_3 = cParameter(1,3)
OHY_01_VID_4 = cParameter(1,4)
OHY_01_VID_5 = cParameter(1,5)
OHY_01_VID_6 = cParameter(1,6)
OHY_01_VID_7 = cParameter(1,7)
OHY_01_VID_8 = cParameter(1,8)
OHY_01_VID_9 = cParameter(1,9)
OHY_02_VID_0 = cParameter(2,0)
OHY_02_VID_1 = cParameter(2,1)
OHY_02_VID_2 = cParameter(2,2)
OHY_02_VID_3 = cParameter(2,3)
OHY_02_VID_4 = cParameter(2,4)
OHY_02_VID_5 = cParameter(2,5)
OHY_02_VID_6 = cParameter(2,6)
OHY_02_VID_7 = cParameter(2,7)
OHY_02_VID_8 = cParameter(2,8)
OHY_02_VID_9 = cParameter(2,9)
OHY_03_VID_0 = cParameter(3,0)
OHY_03_VID_1 = cParameter(3,1)
OHY_03_VID_2 = cParameter(3,2)
OHY_03_VID_3 = cParameter(3,3)
OHY_03_VID_4 = cParameter(3,4)
OHY_03_VID_5 = cParameter(3,5)
OHY_03_VID_6 = cParameter(3,6)
OHY_03_VID_7 = cParameter(3,7)
OHY_03_VID_8 = cParameter(3,8)
OHY_03_VID_9 = cParameter(3,9)
OHY_04_VID_0 = cParameter(4,0)
OHY_04_VID_1 = cParameter(4,1)
OHY_04_VID_2 = cParameter(4,2)
OHY_04_VID_3 = cParameter(4,3)
OHY_04_VID_4 = cParameter(4,4)
OHY_04_VID_5 = cParameter(4,5)
OHY_04_VID_6 = cParameter(4,6)
OHY_04_VID_7 = cParameter(4,7)
OHY_04_VID_8 = cParameter(4,8)
OHY_04_VID_9 = cParameter(4,9)
OHY_05_VID_0 = cParameter(5,0)
OHY_05_VID_1 = cParameter(5,1)
OHY_05_VID_2 = cParameter(5,2)
OHY_05_VID_3 = cParameter(5,3)
OHY_05_VID_4 = cParameter(5,4)
OHY_05_VID_5 = cParameter(5,5)
OHY_05_VID_6 = cParameter(5,6)
OHY_05_VID_7 = cParameter(5,7)
OHY_05_VID_8 = cParameter(5,8)
OHY_05_VID_9 = cParameter(5,9)
OHY_06_VID_0 = cParameter(6,0)
OHY_06_VID_1 = cParameter(6,1)
OHY_06_VID_2 = cParameter(6,2)
OHY_06_VID_3 = cParameter(6,3)
OHY_06_VID_4 = cParameter(6,4)
OHY_06_VID_5 = cParameter(6,5)
OHY_06_VID_6 = cParameter(6,6)
OHY_06_VID_7 = cParameter(6,7)
OHY_06_VID_8 = cParameter(6,8)
OHY_06_VID_9 = cParameter(6,9)
OHY_07_VID_0 = cParameter(7,0)
OHY_07_VID_1 = cParameter(7,1)
OHY_07_VID_2 = cParameter(7,2)
OHY_07_VID_3 = cParameter(7,3)
OHY_07_VID_4 = cParameter(7,4)
OHY_07_VID_5 = cParameter(7,5)
OHY_07_VID_6 = cParameter(7,6)
OHY_07_VID_7 = cParameter(7,7)
OHY_07_VID_8 = cParameter(7,8)
OHY_07_VID_9 = cParameter(7,9)
OHY_08_VID_0 = cParameter(8,0)
OHY_08_VID_1 = cParameter(8,1)
OHY_08_VID_2 = cParameter(8,2)
OHY_08_VID_3 = cParameter(8,3)
OHY_08_VID_4 = cParameter(8,4)
OHY_08_VID_5 = cParameter(8,5)
OHY_08_VID_6 = cParameter(8,6)
OHY_08_VID_7 = cParameter(8,7)
OHY_08_VID_8 = cParameter(8,8)
OHY_08_VID_9 = cParameter(8,9)
OHY_09_VID_0 = cParameter(9,0)
OHY_09_VID_1 = cParameter(9,1)
OHY_09_VID_2 = cParameter(9,2)
OHY_09_VID_3 = cParameter(9,3)
OHY_09_VID_4 = cParameter(9,4)
OHY_09_VID_5 = cParameter(9,5)
OHY_09_VID_6 = cParameter(9,6)
OHY_09_VID_7 = cParameter(9,7)
OHY_09_VID_8 = cParameter(9,8)
OHY_09_VID_9 = cParameter(9,9)
OHY_10_VID_0 = cParameter(10,0)
OHY_10_VID_1 = cParameter(10,1)
OHY_10_VID_2 = cParameter(10,2)
OHY_10_VID_3 = cParameter(10,3)
OHY_10_VID_4 = cParameter(10,4)
OHY_10_VID_5 = cParameter(10,5)
OHY_10_VID_6 = cParameter(10,6)
OHY_10_VID_7 = cParameter(10,7)
OHY_10_VID_8 = cParameter(10,8)
OHY_10_VID_9 = cParameter(10,9)
OHY_11_VID_0 = cParameter(11,0)
OHY_11_VID_1 = cParameter(11,1)
OHY_11_VID_2 = cParameter(11,2)
OHY_11_VID_3 = cParameter(11,3)
OHY_11_VID_4 = cParameter(11,4)
OHY_11_VID_5 = cParameter(11,5)
OHY_11_VID_6 = cParameter(11,6)
OHY_11_VID_7 = cParameter(11,7)
OHY_11_VID_8 = cParameter(11,8)
OHY_11_VID_9 = cParameter(11,9)
OHY_12_VID_0 = cParameter(12,0)
OHY_12_VID_1 = cParameter(12,1)
OHY_12_VID_2 = cParameter(12,2)
OHY_12_VID_3 = cParameter(12,3)
OHY_12_VID_4 = cParameter(12,4)
OHY_12_VID_5 = cParameter(12,5)
OHY_12_VID_6 = cParameter(12,6)
OHY_12_VID_7 = cParameter(12,7)
OHY_12_VID_8 = cParameter(12,8)
OHY_12_VID_9 = cParameter(12,9)
OHY_13_VID_0 = cParameter(13,0)
OHY_13_VID_1 = cParameter(13,1)
OHY_13_VID_2 = cParameter(13,2)
OHY_13_VID_3 = cParameter(13,3)
OHY_13_VID_4 = cParameter(13,4)
OHY_13_VID_5 = cParameter(13,5)
OHY_13_VID_6 = cParameter(13,6)
OHY_13_VID_7 = cParameter(13,7)
OHY_13_VID_8 = cParameter(13,8)
OHY_13_VID_9 = cParameter(13,9)
OHY_14_VID_0 = cParameter(14,0)
OHY_14_VID_1 = cParameter(14,1)
OHY_14_VID_2 = cParameter(14,2)
OHY_14_VID_3 = cParameter(14,3)
OHY_14_VID_4 = cParameter(14,4)
OHY_14_VID_5 = cParameter(14,5)
OHY_14_VID_6 = cParameter(14,6)
OHY_14_VID_7 = cParameter(14,7)
OHY_14_VID_8 = cParameter(14,8)
OHY_14_VID_9 = cParameter(14,9)
OHY_15_VID_0 = cParameter(15,0)
OHY_15_VID_1 = cParameter(15,1)
OHY_15_VID_2 = cParameter(15,2)
OHY_15_VID_3 = cParameter(15,3)
OHY_15_VID_4 = cParameter(15,4)
OHY_15_VID_5 = cParameter(15,5)
OHY_15_VID_6 = cParameter(15,6)
OHY_15_VID_7 = cParameter(15,7)
OHY_15_VID_8 = cParameter(15,8)
OHY_15_VID_9 = cParameter(15,9)
OHY_16_VID_0 = cParameter(16,0)
OHY_16_VID_1 = cParameter(16,1)
OHY_16_VID_2 = cParameter(16,2)
OHY_16_VID_3 = cParameter(16,3)
OHY_16_VID_4 = cParameter(16,4)
OHY_16_VID_5 = cParameter(16,5)
OHY_16_VID_6 = cParameter(16,6)
OHY_16_VID_7 = cParameter(16,7)
OHY_16_VID_8 = cParameter(16,8)
OHY_16_VID_9 = cParameter(16,9)
OHY_17_VID_0 = cParameter(17,0)
OHY_17_VID_1 = cParameter(17,1)
OHY_17_VID_2 = cParameter(17,2)
OHY_17_VID_3 = cParameter(17,3)
OHY_17_VID_4 = cParameter(17,4)
OHY_17_VID_5 = cParameter(17,5)
OHY_17_VID_6 = cParameter(17,6)
OHY_17_VID_7 = cParameter(17,7)
OHY_17_VID_8 = cParameter(17,8)
OHY_17_VID_9 = cParameter(17,9)
OHY_18_VID_0 = cParameter(18,0)
OHY_18_VID_1 = cParameter(18,1)
OHY_18_VID_2 = cParameter(18,2)
OHY_18_VID_3 = cParameter(18,3)
OHY_18_VID_4 = cParameter(18,4)
OHY_18_VID_5 = cParameter(18,5)
OHY_18_VID_6 = cParameter(18,6)
OHY_18_VID_7 = cParameter(18,7)
OHY_18_VID_8 = cParameter(18,8)
OHY_18_VID_9 = cParameter(18,9)
OHY_19_VID_0 = cParameter(19,0)
OHY_19_VID_1 = cParameter(19,1)
OHY_19_VID_2 = cParameter(19,2)
OHY_19_VID_3 = cParameter(19,3)
OHY_19_VID_4 = cParameter(19,4)
OHY_19_VID_5 = cParameter(19,5)
OHY_19_VID_6 = cParameter(19,6)
OHY_19_VID_7 = cParameter(19,7)
OHY_19_VID_8 = cParameter(19,8)
OHY_19_VID_9 = cParameter(19,9)
OHY_20_VID_0 = cParameter(20,0)
OHY_20_VID_1 = cParameter(20,1)
OHY_20_VID_2 = cParameter(20,2)
OHY_20_VID_3 = cParameter(20,3)
OHY_20_VID_4 = cParameter(20,4)
OHY_20_VID_5 = cParameter(20,5)
OHY_20_VID_6 = cParameter(20,6)
OHY_20_VID_7 = cParameter(20,7)
OHY_20_VID_8 = cParameter(20,8)
OHY_20_VID_9 = cParameter(20,9)
OHY_21_VID_0 = cParameter(21,0)
OHY_21_VID_1 = cParameter(21,1)
OHY_21_VID_2 = cParameter(21,2)
OHY_21_VID_3 = cParameter(21,3)
OHY_21_VID_4 = cParameter(21,4)
OHY_21_VID_5 = cParameter(21,5)
OHY_21_VID_6 = cParameter(21,6)
OHY_21_VID_7 = cParameter(21,7)
OHY_21_VID_8 = cParameter(21,8)
OHY_21_VID_9 = cParameter(21,9)
OHY_22_VID_0 = cParameter(22,0)
OHY_22_VID_1 = cParameter(22,1)
OHY_22_VID_2 = cParameter(22,2)
OHY_22_VID_3 = cParameter(22,3)
OHY_22_VID_4 = cParameter(22,4)
OHY_22_VID_5 = cParameter(22,5)
OHY_22_VID_6 = cParameter(22,6)
OHY_22_VID_7 = cParameter(22,7)
OHY_22_VID_8 = cParameter(22,8)
OHY_22_VID_9 = cParameter(22,9)
OHY_23_VID_0 = cParameter(23,0)
OHY_23_VID_1 = cParameter(23,1)
OHY_23_VID_2 = cParameter(23,2)
OHY_23_VID_3 = cParameter(23,3)
OHY_23_VID_4 = cParameter(23,4)
OHY_23_VID_5 = cParameter(23,5)
OHY_23_VID_6 = cParameter(23,6)
OHY_23_VID_7 = cParameter(23,7)
OHY_23_VID_8 = cParameter(23,8)
OHY_23_VID_9 = cParameter(23,9)
OHY_24_VID_0 = cParameter(24,0)
OHY_24_VID_1 = cParameter(24,1)
OHY_24_VID_2 = cParameter(24,2)
OHY_24_VID_3 = cParameter(24,3)
OHY_24_VID_4 = cParameter(24,4)
OHY_24_VID_5 = cParameter(24,5)
OHY_24_VID_6 = cParameter(24,6)
OHY_24_VID_7 = cParameter(24,7)
OHY_24_VID_8 = cParameter(24,8)
OHY_24_VID_9 = cParameter(24,9)
OHY_25_VID_0 = cParameter(25,0)
OHY_25_VID_1 = cParameter(25,1)
OHY_25_VID_2 = cParameter(25,2)
OHY_25_VID_3 = cParameter(25,3)
OHY_25_VID_4 = cParameter(25,4)
OHY_25_VID_5 = cParameter(25,5)
OHY_25_VID_6 = cParameter(25,6)
OHY_25_VID_7 = cParameter(25,7)
OHY_25_VID_8 = cParameter(25,8)
OHY_25_VID_9 = cParameter(25,9)
OHY_26_VID_0 = cParameter(26,0)
OHY_26_VID_1 = cParameter(26,1)
OHY_26_VID_2 = cParameter(26,2)
OHY_26_VID_3 = cParameter(26,3)
OHY_26_VID_4 = cParameter(26,4)
OHY_26_VID_5 = cParameter(26,5)
OHY_26_VID_6 = cParameter(26,6)
OHY_26_VID_7 = cParameter(26,7)
OHY_26_VID_8 = cParameter(26,8)
OHY_26_VID_9 = cParameter(26,9)
OHY_27_VID_0 = cParameter(27,0)
OHY_27_VID_1 = cParameter(27,1)
OHY_27_VID_2 = cParameter(27,2)
OHY_27_VID_3 = cParameter(27,3)
OHY_27_VID_4 = cParameter(27,4)
OHY_27_VID_5 = cParameter(27,5)
OHY_27_VID_6 = cParameter(27,6)
OHY_27_VID_7 = cParameter(27,7)
OHY_27_VID_8 = cParameter(27,8)
OHY_27_VID_9 = cParameter(27,9)
OHY_28_VID_0 = cParameter(28,0)
OHY_28_VID_1 = cParameter(28,1)
OHY_28_VID_2 = cParameter(28,2)
OHY_28_VID_3 = cParameter(28,3)
OHY_28_VID_4 = cParameter(28,4)
OHY_28_VID_5 = cParameter(28,5)
OHY_28_VID_6 = cParameter(28,6)
OHY_28_VID_7 = cParameter(28,7)
OHY_28_VID_8 = cParameter(28,8)
OHY_28_VID_9 = cParameter(28,9)
OHY_29_VID_0 = cParameter(29,0)
OHY_29_VID_1 = cParameter(29,1)
OHY_29_VID_2 = cParameter(29,2)
OHY_29_VID_3 = cParameter(29,3)
OHY_29_VID_4 = cParameter(29,4)
OHY_29_VID_5 = cParameter(29,5)
OHY_29_VID_6 = cParameter(29,6)
OHY_29_VID_7 = cParameter(29,7)
OHY_29_VID_8 = cParameter(29,8)
OHY_29_VID_9 = cParameter(29,9)
OHY_30_VID_0 = cParameter(30,0)
OHY_30_VID_1 = cParameter(30,1)
OHY_30_VID_2 = cParameter(30,2)
OHY_30_VID_3 = cParameter(30,3)
OHY_30_VID_4 = cParameter(30,4)
OHY_30_VID_5 = cParameter(30,5)
OHY_30_VID_6 = cParameter(30,6)
OHY_30_VID_7 = cParameter(30,7)
OHY_30_VID_8 = cParameter(30,8)
OHY_30_VID_9 = cParameter(30,9)
OHY_31_VID_0 = cParameter(31,0)
OHY_31_VID_1 = cParameter(31,1)
OHY_31_VID_2 = cParameter(31,2)
OHY_31_VID_3 = cParameter(31,3)
OHY_31_VID_4 = cParameter(31,4)
OHY_31_VID_5 = cParameter(31,5)
OHY_31_VID_6 = cParameter(31,6)
OHY_31_VID_7 = cParameter(31,7)
OHY_31_VID_8 = cParameter(31,8)
OHY_31_VID_9 = cParameter(31,9)
OHY_32_VID_0 = cParameter(32,0)
OHY_32_VID_1 = cParameter(32,1)
OHY_32_VID_2 = cParameter(32,2)
OHY_32_VID_3 = cParameter(32,3)
OHY_32_VID_4 = cParameter(32,4)
OHY_32_VID_5 = cParameter(32,5)
OHY_32_VID_6 = cParameter(32,6)
OHY_32_VID_7 = cParameter(32,7)
OHY_32_VID_8 = cParameter(32,8)
OHY_32_VID_9 = cParameter(32,9)
OHY_33_VID_0 = cParameter(33,0)
OHY_33_VID_1 = cParameter(33,1)
OHY_33_VID_2 = cParameter(33,2)
OHY_33_VID_3 = cParameter(33,3)
OHY_33_VID_4 = cParameter(33,4)
OHY_33_VID_5 = cParameter(33,5)
OHY_33_VID_6 = cParameter(33,6)
OHY_33_VID_7 = cParameter(33,7)
OHY_33_VID_8 = cParameter(33,8)
OHY_33_VID_9 = cParameter(33,9)
OHY_34_VID_0 = cParameter(34,0)
OHY_34_VID_1 = cParameter(34,1)
OHY_34_VID_2 = cParameter(34,2)
OHY_34_VID_3 = cParameter(34,3)
OHY_34_VID_4 = cParameter(34,4)
OHY_34_VID_5 = cParameter(34,5)
OHY_34_VID_6 = cParameter(34,6)
OHY_34_VID_7 = cParameter(34,7)
OHY_34_VID_8 = cParameter(34,8)
OHY_34_VID_9 = cParameter(34,9)
OHY_35_VID_0 = cParameter(35,0)
OHY_35_VID_1 = cParameter(35,1)
OHY_35_VID_2 = cParameter(35,2)
OHY_35_VID_3 = cParameter(35,3)
OHY_35_VID_4 = cParameter(35,4)
OHY_35_VID_5 = cParameter(35,5)
OHY_35_VID_6 = cParameter(35,6)
OHY_35_VID_7 = cParameter(35,7)
OHY_35_VID_8 = cParameter(35,8)
OHY_35_VID_9 = cParameter(35,9)
OHY_36_VID_0 = cParameter(36,0)
OHY_36_VID_1 = cParameter(36,1)
OHY_36_VID_2 = cParameter(36,2)
OHY_36_VID_3 = cParameter(36,3)
OHY_36_VID_4 = cParameter(36,4)
OHY_36_VID_5 = cParameter(36,5)
OHY_36_VID_6 = cParameter(36,6)
OHY_36_VID_7 = cParameter(36,7)
OHY_36_VID_8 = cParameter(36,8)
OHY_36_VID_9 = cParameter(36,9)
OHY_37_VID_0 = cParameter(37,0)
OHY_37_VID_1 = cParameter(37,1)
OHY_37_VID_2 = cParameter(37,2)
OHY_37_VID_3 = cParameter(37,3)
OHY_37_VID_4 = cParameter(37,4)
OHY_37_VID_5 = cParameter(37,5)
OHY_37_VID_6 = cParameter(37,6)
OHY_37_VID_7 = cParameter(37,7)
OHY_37_VID_8 = cParameter(37,8)
OHY_37_VID_9 = cParameter(37,9)
OHY_38_VID_0 = cParameter(38,0)
OHY_38_VID_1 = cParameter(38,1)
OHY_38_VID_2 = cParameter(38,2)
OHY_38_VID_3 = cParameter(38,3)
OHY_38_VID_4 = cParameter(38,4)
OHY_38_VID_5 = cParameter(38,5)
OHY_38_VID_6 = cParameter(38,6)
OHY_38_VID_7 = cParameter(38,7)
OHY_38_VID_8 = cParameter(38,8)
OHY_38_VID_9 = cParameter(38,9)
OHY_39_VID_0 = cParameter(39,0)
OHY_39_VID_1 = cParameter(39,1)
OHY_39_VID_2 = cParameter(39,2)
OHY_39_VID_3 = cParameter(39,3)
OHY_39_VID_4 = cParameter(39,4)
OHY_39_VID_5 = cParameter(39,5)
OHY_39_VID_6 = cParameter(39,6)
OHY_39_VID_7 = cParameter(39,7)
OHY_39_VID_8 = cParameter(39,8)
OHY_39_VID_9 = cParameter(39,9)

class cView(interface.iView):
  def check(self):
    try:
      interface.assoObj
    except AttributeError:
      a = asso_cvr3_fus_recalc.AssoCvr3fusRecalc(interface.Source, useVideoHandle=False)
      a.calc()
      interface.assoObj = a
    return

  def view(cls, param):
    a = interface.assoObj
    i,j = param.i, param.j
    # plotting
    pn = datavis.cPlotNavigator(title='OHY %d and VID %d' %(i,j))
    # angle
    ax = pn.addAxis(ylabel='angle')
    pn.addSignal2Axis(ax, 'angle', a.scaleTime, a.radarTracks[i]['angle'])
    pn.addSignal2Axis(ax, 'alpLeftEdge', a.scaleTime, a.videoTracks[j]['alpLeftEdge'])
    pn.addSignal2Axis(ax, 'alpRightEdge', a.scaleTime, a.videoTracks[j]['alpRightEdge'])
    twinax = pn.addTwinAxis(ax, color='m', ylabel='prob')
    pn.addSignal2Axis(twinax, 'angleAssoProb', a.scaleTime, a.measures.angle[:,i,j])
    # dx
    ax = pn.addAxis(ylabel='dx')
    pn.addSignal2Axis(ax, 'dx radar', a.scaleTime, a.radarTracks[i]['dx'])
    pn.addSignal2Axis(ax, 'dx video', a.scaleTime, a.videoTracks[j]['dx'])
    twinax = pn.addTwinAxis(ax, color='m', ylabel='prob')
    pn.addSignal2Axis(twinax, 'dxAssoProb', a.scaleTime, a.measures.dx[:,i,j])
    # occlusion
    ax = pn.addAxis(ylabel='occlusion')
    pn.addSignal2Axis(ax, 'occluder', a.scaleTime, a.measures.occluders[:,i,j])
    twinax = pn.addTwinAxis(ax, color='m', ylabel='flag')
    pn.addSignal2Axis(twinax, 'occlusion', a.scaleTime, a.measures.occlusion[:,i,j])
    # counter
    ax = pn.addAxis(ylabel='counter')
    twinax = pn.addTwinAxis(ax, color='m', ylabel='prob')
    pn.addSignal2Axis(twinax, 'counterAssoProb', a.scaleTime, a.measures.counter[:,i,j])
    # invttc
    ax = pn.addAxis(ylabel='invttc')
    pn.addSignal2Axis(ax, 'invttc radar', a.scaleTime, a.radarTracks[i]['invttc'])
    pn.addSignal2Axis(ax, 'invttc video', a.scaleTime, a.videoTracks[j]['invttc'])
    twinax = pn.addTwinAxis(ax, color='m', ylabel='prob')
    pn.addSignal2Axis(twinax, 'invTtcAssoProb', a.scaleTime, a.measures.invttc[:,i,j])
    # current and filtered asso prob
    ax = pn.addAxis(ylabel='filtered')
    pn.addSignal2Axis(ax, 'filteredAssoProb', a.scaleTime, a.filteredAssoProb[:,i,j])
    twinax = pn.addTwinAxis(ax, color='m', ylabel='current')
    pn.addSignal2Axis(twinax, 'currentAssoProb', a.scaleTime, a.currentAssoProb[:,i,j])
    
    interface.Sync.addClient(pn)
    return

